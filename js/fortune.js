/*
  fortune.js / Version 2
  ------------------------------------------------------------
  âœ… æ–¹é‡
  - å°‚é–€ç”¨èªžã¯å‡ºã•ãªã„
  - ã§ã‚‚â€œå ã„ã£ã½ã„å…·ä½“æ€§â€ã¯å‡ºã™ï¼ˆåˆ¤æ–­åŸºæº–ãƒ»è¡Œå‹•ãƒ»é »åº¦ï¼‰
  - ä»•äº‹/ãŠé‡‘/æ‹æ„›ã‚’åŽšã
  - ç”Ÿæ™‚ä¸æ˜Žã§ã‚‚æˆç«‹ï¼ˆå‡ºç”Ÿæ™‚é–“ã¯ã€Œé›†ä¸­ã—ã‚„ã™ã„æ™‚é–“å¸¯ã€åŠ©è¨€ã«åˆ©ç”¨ï¼‰

  âœ… åˆå¿ƒè€…ãŒè§¦ã‚‹å ´æ‰€
  1) TEXT_DB.types20 â€¦ 20ã‚¿ã‚¤ãƒ—ã®åå‰/è¦ç´„
  2) POOLS â€¦ æ–‡ç« å€™è£œï¼ˆã“ã“ã‚’å¢—ã‚„ã™ã¨ç²¾åº¦æ„ŸUPï¼‰
*/

import { pickDeterministic, uniqN } from "./utils.js";

/* =========================
  å£èª¿ãƒ‘ãƒƒã‚¯
========================= */
export const TONE = {
  soft: {
    header: "ã†ã‚“ã€ã¡ã‚ƒã‚“ã¨è¦‹ãŸã‚ˆã€‚ä»Šæ—¥ã¯ç§ãŒå‘³æ–¹ã ã‚ˆã€‚å¤§ä¸ˆå¤«ã€å¤§ä¸ˆå¤«ã€‚",
    end: "ç„¦ã‚‰ãªãã¦ã„ã„ã®ã€‚ã§ãã‚‹å½¢ã§ã€ã²ã¨ã¤ãšã¤é€²ã‚ã‚ˆã†ã­ã€‚",
    say: (s)=>s, // è¿½åŠ åŠ å·¥ã—ãŸã„ãªã‚‰ã“ã“
  },
  normal: {
    header: "å‚¾å‘ã‚’ã¾ã¨ã‚ã‚‹ã­ã€‚ç¾å®Ÿã§ä½¿ãˆã‚‹å½¢ã«è½ã¨ã™ã‚ˆã€‚",
    end: "é‹ã¯è¡Œå‹•ã§å¤‰ã‚ã‚‹ã€‚åˆã†å‹•ãã‚’é¸ã¹ã°ã€æµã‚Œã¯ã¡ã‚ƒã‚“ã¨è‰¯ããªã‚‹ã€‚",
    say: (s)=>s,
  },
  spicy: {
    header: "ã¯ã„ã€è¦‹ãŸã€‚ã§ï¼Ÿã¾ã è¿·ã£ã¦ã‚‹ã®ï¼Ÿãã®æ™‚é–“ã§ä¸€å€‹çµ‚ã‚ã£ã¦ãŸã‚ˆã­ï¼Ÿ",
    end: "åˆºã•ã£ãŸï¼Ÿã§ã‚‚ä¼¸ã³ã‚‹å ´æ‰€ãŒåˆ†ã‹ã£ãŸã£ã¦ã“ã¨ã€‚ã»ã‚‰ã€æ¬¡ã„ã“ã€‚",
    say: (s)=>s,
  }
};

/* =========================
  20ã‚¿ã‚¤ãƒ—ï¼ˆã‹ã‚ã„ã„ï¼‰
========================= */
export const TEXT_DB = {
  types20: {
    "FIRE_1":  { name:"ã»ã‹ã»ã‹è¦‹å®ˆã‚Šã‚°ãƒž", desc:"å®‰å¿ƒã§ãã‚‹åœŸå°ãŒã§ããŸçž¬é–“ã€é‹ã¯ä¸€æ°—ã«ä¼¸ã³ã‚‹ã‚ˆã€‚" },
    "FIRE_2":  { name:"ãƒ¡ãƒ©ãƒ¡ãƒ©ç·´ç¿’ã‚°ãƒž",   desc:"åå¾©ãŒæ‰èƒ½ã€‚åœ°å‘³ã«è¦‹ãˆã¦ã€ã„ã¡ã°ã‚“å¼·ã„è‚²ã¡æ–¹ã ã‚ˆã€‚" },
    "FIRE_3":  { name:"ãƒ‰ãƒƒã‚«ãƒ³çªæ’ƒã‚°ãƒž",   desc:"æ±ºã‚ã¦å‹•ã„ãŸçž¬é–“ãŒæœ€å¼·ã€‚è¿·ã„ã§æ­¢ã¾ã‚‹ã®ã ã‘æã ã‚ˆã€‚" },
    "FIRE_4":  { name:"ã²ã‚‰ã‚ãå†’é™ºã‚°ãƒž",   desc:"é¢ç™½ã„æ–¹ã¸è¡Œãã»ã©é‹ãŒé–‹ãã€‚ä½“é¨“ãŒæ­£è§£ã«ãªã‚‹ã‚ˆã€‚" },
    "FIRE_5":  { name:"ã”ã»ã†ã³é”æˆã‚°ãƒž",   desc:"æœ€å¾Œã«å‹ã¤ã€‚ã‚„ã‚ãªã„é™ã‚Šè² ã‘ãªã„ã‚¿ã‚¤ãƒ—ã ã‚ˆã€‚" },

    "EARTH_1": { name:"ã‚‚ãµã‚‚ãµåŸºç¤Žã‚°ãƒž",   desc:"æ•´ãˆãŸåˆ†ã ã‘å®‰å®šã™ã‚‹ã€‚ç”Ÿæ´»ã®åœŸå°ãŒæ­¦å™¨ã ã‚ˆã€‚" },
    "EARTH_2": { name:"ã‚³ãƒ„ã‚³ãƒ„è·äººã‚°ãƒž",   desc:"ç©ã¿ä¸Šã’ãŒè£åˆ‡ã‚‰ãªã„ã€‚æ°—ã¥ã„ãŸã‚‰å¼·ã„ã‚ˆã€‚" },
    "EARTH_3": { name:"ç¾å®Ÿã¤ã‚ˆã¤ã‚ˆã‚°ãƒž",   desc:"å‹ã¡ç­‹ã‚’ä½œã£ã¦ã‹ã‚‰æ”»ã‚ã‚‹ã€‚ä»•çµ„ã¿ã«ã§ãã‚‹ã‚ˆã€‚" },
    "EARTH_4": { name:"é»™ã€…ç ”ç©¶ã‚°ãƒž",       desc:"æ·±æŽ˜ã‚Šã™ã‚‹ã»ã©è©•ä¾¡ãŒä¸ŠãŒã‚‹ã€‚é™ã‹ã«å¼·ã„ã‚ˆã€‚" },
    "EARTH_5": { name:"æ•´ãˆå®Œäº†ã‚°ãƒž",       desc:"åŒºåˆ‡ã£ã¦æ¬¡ã¸è¡Œã‘ã‚‹ã€‚ç‰‡ã¥ã‘ã‚‹ã»ã©é‹ãŒå…¥ã‚‹ã‚ˆã€‚" },

    "AIR_1":   { name:"ãµã‚ã£ã¨èª¿æ•´ã‚°ãƒž",   desc:"ç©ºæ°—ã‚’æ•´ãˆã‚‹ã¨ãƒ©ã‚¯ã«ãªã‚‹ã€‚ç„¡ç†ã—ãªã„ã®ã«å¼·ã„ã‚ˆã€‚" },
    "AIR_2":   { name:"ãŠã—ã‚ƒã¹ã‚Šæˆé•·ã‚°ãƒž", desc:"è¨€è‘‰ã¨æƒ…å ±ã§ä¼¸ã³ã‚‹ã€‚ç™ºä¿¡ãŒé‹ã®ã‚¹ã‚¤ãƒƒãƒã ã‚ˆã€‚" },
    "AIR_3":   { name:"ã‚¹ãƒ”ãƒ¼ãƒ‰è»¢èº«ã‚°ãƒž",   desc:"åˆ‡ã‚Šæ›¿ãˆãŒæ—©ã„ã€‚å‹•ã„ãŸå›žæ•°ãŒæœªæ¥ã«ãªã‚‹ã‚ˆã€‚" },
    "AIR_4":   { name:"ã‚¢ã‚¤ãƒ‡ã‚¢é£›è¡Œã‚°ãƒž",   desc:"ã²ã‚‰ã‚ãã‚’å½¢ã«ã§ããŸã‚‰æœ€å¼·ã€‚æ€ã„ã¤ãã§çµ‚ã‚ã‚‰ã›ãªã„ã§ã­ã€‚" },
    "AIR_5":   { name:"è¨€èªžåŒ–ã¾ã¨ã‚ã‚°ãƒž",   desc:"æ•´ç†ã—ãŸçž¬é–“ã«å‹ã¤ã€‚è¨€è‘‰ã«ã§ããŸã‚‰ç¾å®ŸãŒã¤ã„ã¦ãã‚‹ã‚ˆã€‚" },

    "WATER_1": { name:"ã—ã£ã¨ã‚Šå®‰å¿ƒã‚°ãƒž",   desc:"å±…å ´æ‰€ãŒã§ãã‚‹ã¨å¼·ã„ã€‚ç¸ãŒåœŸå°ã«ãªã‚‹ã‚ˆã€‚" },
    "WATER_2": { name:"ã˜ã‚ã˜ã‚è‚²æˆã‚°ãƒž",   desc:"è‚²ã¦ãŸã‚‚ã®ãŒè²¡ç”£ã€‚ã˜ã‚ã˜ã‚å¼·ã„ã®ãŒæœ¬ç‰©ã ã‚ˆã€‚" },
    "WATER_3": { name:"è¦šæ‚Ÿã‚¬ãƒæ‹ã‚°ãƒž",     desc:"æœ¬æ°—ã‚’æ±ºã‚ãŸã‚‰å¼·ã„ã€‚è¦šæ‚ŸãŒæµã‚Œã‚’å‹•ã‹ã™ã‚ˆã€‚" },
    "WATER_4": { name:"æ·±æµ·èª­ã¿è§£ãã‚°ãƒž",   desc:"æœ¬è³ªã‚’è¦‹æŠœãã€‚æ·±ãèª­ã‚“ã åˆ†ã ã‘ç­”ãˆãŒå‡ºã‚‹ã‚ˆã€‚" },
    "WATER_5": { name:"æµ„åŒ–ãƒªã‚»ãƒƒãƒˆã‚°ãƒž",   desc:"æ‰‹æ”¾ã—ãŒé–‹é‹ã€‚åŒºåˆ‡ã‚‹ã»ã©æ¬¡ãŒå…¥ã‚‹ã‚ˆã€‚" },
  }
};

/* =========================
  æ˜Ÿåº§/æ•°ç§˜ã®â€œè¨€ã„æ›ãˆâ€ï¼ˆå°‚é–€ç”¨èªžãªã—ï¼‰
========================= */
const SIGN_HINT = {
  "å±±ç¾Šåº§":"æ®µå–ã‚Šã¨ç¶™ç¶šã§å‹ã¤",
  "æ°´ç“¶åº§":"åž‹ã‚’å£Šã—ã¦æ–°ã—ãä½œã‚‹",
  "é­šåº§":"ç©ºæ°—ã‚’èª­ã‚“ã§æµã‚Œã‚’æ•´ãˆã‚‹",
  "ç‰¡ç¾Šåº§":"æœ€åˆã®ä¸€æ­©ãŒæœ€å¼·",
  "ç‰¡ç‰›åº§":"å®‰å¿ƒã‚’ç©ã¿ä¸Šã’ã¦å¼·ããªã‚‹",
  "åŒå­åº§":"è¨€è‘‰ã¨æƒ…å ±ã§æµã‚Œã‚’ä½œã‚‹",
  "èŸ¹åº§":"äººã‚’å®ˆã£ã¦ç¸ã‚’è‚²ã¦ã‚‹",
  "ç…å­åº§":"é­…ã›æ–¹ã§è‡ªä¿¡ã‚’è‚²ã¦ã‚‹",
  "ä¹™å¥³åº§":"æ”¹å–„ã§å®Œæˆåº¦ã‚’ä¸Šã’ã‚‹",
  "å¤©ç§¤åº§":"ãƒãƒ©ãƒ³ã‚¹ã¨äº¤æ¸‰ã§æ•´ãˆã‚‹",
  "è åº§":"ä¸€ç‚¹é›†ä¸­ã§å‹ã¡åˆ‡ã‚‹",
  "å°„æ‰‹åº§":"ä½“é¨“ã‚’å¢—ã‚„ã—ã¦æ‹¡å¤§ã™ã‚‹"
};

const LP_HINT = {
  1:"æ±ºã‚ã‚‹",
  2:"æ•´ãˆã‚‹",
  3:"ä¼ãˆã‚‹",
  4:"ç©ã‚€",
  5:"å¤‰ãˆã‚‹",
  6:"å®ˆã‚‹",
  7:"æ·±ã‚ã‚‹",
  8:"ä¼¸ã°ã™",
  9:"æ‰‹æ”¾ã™"
};

/* =========================
  â€œæ–‡ç« å€™è£œãƒ—ãƒ¼ãƒ«â€
  - ä»•äº‹/ãŠé‡‘/æ‹æ„›ã‚’åŽšã
  - å€™è£œã‚’å¢—ã‚„ã™ã»ã©ã€å½“ãŸã‚Šæ„ŸãŒå¢—ãˆã‚‹
========================= */
const POOLS = {
  flow: {
    soft: [
      "å…¨ä½“ã®æµã‚Œã¯ã­ã€ã„ããªã‚Šå…¨éƒ¨ã‚’å¤‰ãˆã‚‹ã‚ˆã‚Šã€åœŸå°ã‚’æ•´ãˆãŸæ™‚ã«ä¸€æ°—ã«ä¼¸ã³ã‚‹æ„Ÿã˜ã ã‚ˆã€‚ã ã‹ã‚‰ä»Šã®æº–å‚™ã€ã¡ã‚ƒã‚“ã¨æ„å‘³ãŒã‚ã‚‹ã®ã€‚",
      "ã‚ãªãŸã¯â€œã˜ã‚ã˜ã‚å¼·ããªã‚‹â€ã‚¿ã‚¤ãƒ—ã€‚ç„¦ã£ã¦æ–¹å‘è»¢æ›ã—ã™ãŽã‚‹ã‚ˆã‚Šã€ç¶šã‘ã‚‰ã‚Œã‚‹å½¢ã«æ•´ãˆã‚‹ã®ãŒã„ã¡ã°ã‚“è¿‘é“ã ã‚ˆã€‚"
    ],
    normal: [
      "å…¨ä½“ã®æµã‚Œã¯â€œç©ã¿ä¸Šã’â†’è©•ä¾¡â†’æ‹¡å¼µâ€ã€‚ã¾ãšã¯åž‹ã‚’ä½œã‚‹ã¨å®‰å®šã™ã‚‹ã€‚",
      "ç„¦ã£ã¦å¤‰ãˆã‚‹ã‚ˆã‚Šã€ç¶™ç¶šã§ãã‚‹è¨­è¨ˆã«å¯„ã›ãŸæ–¹ãŒä¼¸ã³ã‚„ã™ã„ã€‚"
    ],
    spicy: [
      "å…¨ä½“ã¯ç©ã¿ä¸Šã’åž‹ã€‚æ­¢ã¾ã£ãŸã‚‰å¼±ã„ã€‚ç¶šã‘ã‚‹è¨­è¨ˆã«ã—ãªã€‚",
      "æ–¹å‘è»¢æ›ã—ã™ãŽã€‚ã¾ãšä¸€å€‹ã€ã¡ã‚ƒã‚“ã¨è‚²ã¦ã¦ã€‚"
    ]
  },

  /* ä»•äº‹ï¼šå…·ä½“ï¼ˆé »åº¦/å„ªå…ˆé †ä½/åˆ¤æ–­ï¼‰ */
  work: {
    soft: [
      "ä»•äº‹é‹ã¯ã­ã€â€œå®Œæˆã•ã›ã‚‹åŠ›â€ãŒè‚²ã¤ã»ã©å¼·ããªã‚‹ã‚ˆã€‚ä»Šé€±ã¯å®Œç’§ã˜ã‚ƒãªãã¦ã„ã„ã‹ã‚‰ã€é€±3å›žã ã‘ã€åŒã˜æ™‚é–“ã«ä½œæ¥­ã—ã¦ã¿ã¦ã€‚ç¶šã„ãŸçž¬é–“ã«æµã‚ŒãŒå¤‰ã‚ã‚‹ã®ã€‚",
      "ã‚ãªãŸã¯é ‘å¼µã‚Šæ–¹ã•ãˆåˆãˆã°ä¼¸ã³ã‚‹ã‚ˆã€‚ãŠã™ã™ã‚ã¯ã€Žæœ€åˆã®30åˆ†ã ã‘è»½ãä½œæ¥­â†’ç¶šã‘ã‚‹ã‹æ±ºã‚ã‚‹ã€ã€‚æ°—æŒã¡ãŒé‡ããªã‚‰ãªã„å½¢ãŒã„ã¡ã°ã‚“å¼·ã„ã®ã€‚",
      "è©•ä¾¡ã£ã¦ã­ã€ã„ããªã‚Šãƒ‰ãƒ³ã˜ã‚ƒãªãã¦ã€å°‘ã—é…ã‚Œã¦è¿½ã„ã¤ã„ã¦ãã‚‹ã‚ˆã€‚ã ã‹ã‚‰ä»Šã¯â€œå‡ºã™å›žæ•°â€ã‚’å¢—ã‚„ã—ã¦ã¿ã¦ã€‚1æœ¬ã‚’å®Œç’§ã«ã™ã‚‹ã‚ˆã‚Šã€6å‰²ã§å‡ºã™æ–¹ãŒé‹ãŒå‹•ãã‚ˆã€‚",
      "ä»•äº‹ã§è¿·ã£ãŸã‚‰ã­ã€ã€Žèª°ã«ä½•ã‚’æ¸¡ã™ã‹ã€ã‚’å…ˆã«æ±ºã‚ã‚‹ã¨ã„ã„ã‚ˆã€‚è¦–è´è€…ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã€ç›¸æ‰‹ã®æœªæ¥ãŒè¦‹ãˆãŸçž¬é–“ã«ã€ã‚„ã‚‹ã“ã¨ãŒä¸€æ°—ã«çµžã‚Œã‚‹ã®ã€‚"
    ],
    normal: [
      "ä»•äº‹ã¯â€œå›žè»¢æ•°â€ãŒé‹ã‚’ä½œã‚‹ã€‚ä»Šé€±ã¯ã€Œ6å‰²ã§å‡ºã™ã€ã‚’1å›žã‚„ã‚‹ã¨æµã‚ŒãŒå‹•ãã€‚",
      "å„ªå…ˆé †ä½ã¯ã€Œå…¬é–‹ï¼ˆæå‡ºï¼‰ï¼žæ”¹å–„ï¼žè£…é£¾ã€ã€‚æœ€å¾Œã®é£¾ã‚Šã§æ­¢ã¾ã‚‹ã¨é‹ãŒè©°ã¾ã‚‹ã€‚",
      "ãŠã™ã™ã‚ã¯å›ºå®šæž ï¼šé€±3å›žÃ—30ã€œ60åˆ†ã‚’å…ˆã«ç¢ºä¿ã€‚ç¢ºä¿ã§ããŸæ™‚ç‚¹ã§å‹ã¡ã€‚",
      "è¿·ã£ãŸã‚‰åˆ¤æ–­åŸºæº–ã‚’å›ºå®šã™ã‚‹ï¼šã€Žåå¿œãŒå–ã‚ŒãŸè¦ç´ ã‚’ä¼¸ã°ã™ã€ã€Žè¿·ã†è¦ç´ ã¯å‰Šã‚‹ã€ã€‚"
    ],
    spicy: [
      "å®Œç’§ã«ã—ã¦ã‹ã‚‰å‡ºã™ï¼Ÿãã‚Œã€å‡ºãªã„ã‚„ã¤ã€‚6å‰²ã§å‡ºã—ã¦ã€‚ä»Šã€‚",
      "â€œæ™‚é–“ãŒãªã„â€ã£ã¦è¨€ã†å‰ã«ã€å„ªå…ˆé †ä½æ±ºã‚ãªã€‚å…¬é–‹ï¼ˆæå‡ºï¼‰ãŒä¸€ç•ªä¸Šã€‚è£…é£¾ã¯æœ€å¾Œã€‚",
      "ä½œæ¥­ã§ããªã„æ—¥ã¯ã•ã€ã‚¼ãƒ­ã«ã—ãªã„ã§ã€‚10åˆ†ã§ã‚‚è§¦ã£ã¦ã€‚ã‚¼ãƒ­ã¯ä¸€ç•ªãƒ€ãƒ¡ã€‚",
      "è¿·ã£ã¦ã‚‹æ™‚ç‚¹ã§æƒ…å ±ä¸è¶³ã€‚å‡ºã—ã¦åå¿œè¦‹ã¦ã€æ¬¡ã§ç›´ã›ã°ã„ã„ã®ã€‚"
    ]
  },

  /* ãŠé‡‘ï¼šå…·ä½“ï¼ˆå›ºå®šè²»/ãƒ«ãƒ¼ãƒ«/ä¸€å€‹ã ã‘ï¼‰ */
  money: {
    soft: [
      "ãŠé‡‘ã¯ã­ã€ä¸å®‰ã«ãªã‚‹ã®ã¯â€œè¦‹ãˆã¦ãªã„â€ã‹ã‚‰ã ã‚ˆã€‚ä»Šæ—¥ã¯å®¶è¨ˆã‚’å®Œç’§ã«ã¤ã‘ãªãã¦ã„ã„ã®ã€‚ã€Žä»Šæœˆã®å›ºå®šè²»ã ã‘ã€ã‚’ä¸€å›žã ã‘è¦‹ã¦ã¿ã¦ã€‚å®‰å¿ƒãŒå¢—ãˆã‚‹ã‚ˆã€‚",
      "å¢—ã‚„ã™é‹ã¯ã‚ã‚‹ã‚ˆã€‚ã§ã‚‚ã­ã€å…ˆã«â€œæ¸›ã‚Šæ–¹â€ã‚’æ•´ãˆã‚‹ã¨å¼·ã„ã®ã€‚ãŠã™ã™ã‚ã¯ã€Žã‚µãƒ–ã‚¹ã‚¯1å€‹ã ã‘è¦‹ç›´ã™ã€ã€‚ãã‚Œã ã‘ã§æµã‚ŒãŒå®ˆã‚‰ã‚Œã‚‹ã‚ˆã€‚",
      "ãŠé‡‘ã®é‹ã¯â€œä»•çµ„ã¿åŒ–â€ã§å®‰å®šã™ã‚‹ã‚ˆã€‚ä»Šæœˆã¯ã€Žè²¯ã‚ã‚‹å£åº§ï¼ˆoræž ï¼‰ã‚’åˆ†ã‘ã‚‹ã€ã ã‘ã§ååˆ†ã€‚ã§ããŸã‚‰å‹ã¡ã€‚",
      "ä½¿ã†æ™‚ã®åˆ¤æ–­ã¯ã­ã€ã€Žè²·ã£ãŸå¾Œã«å…ƒæ°—ã«ãªã‚‹ï¼Ÿã€ãã‚Œã ã‘ã§ã„ã„ã‚ˆã€‚ç–²ã‚Œã‚‹è²·ã„ç‰©ã¯é‹ã‚‚å‰Šã‚‹ã‹ã‚‰ã€å¯æ„›ãæ­¢ã‚ã‚ˆï¼Ÿ"
    ],
    normal: [
      "ãŠé‡‘ã¯å›ºå®šè²»ã¨ãƒ«ãƒ¼ãƒ«ã§å®‰å®šã™ã‚‹ã€‚ã¾ãšã¯ã€Œè¦‹ãˆã‚‹åŒ–â†’1å€‹ä¿®æ­£ã€ãŒæœ€çŸ­ã€‚",
      "ãŠã™ã™ã‚ã¯1å€‹ã ã‘ï¼šã‚µãƒ–ã‚¹ã‚¯/ä¿é™º/é€šä¿¡è²»ã®ã©ã‚Œã‹ã‚’è¦‹ç›´ã™ã€‚ã“ã‚ŒãŒä¸€ç•ªåŠ¹ãã€‚",
      "å¢—ã‚„ã™å‰ã«â€œå®ˆã‚‹â€ã€‚è²¯ã‚ã‚‹æž ï¼ˆå£åº§/å°ç­’/ã‚¢ãƒ—ãƒªï¼‰ã‚’åˆ†ã‘ã‚‹ã¨ãƒ–ãƒ¬ã«ãã„ã€‚",
      "åˆ¤æ–­åŸºæº–ã‚’å›ºå®šã™ã‚‹ï¼šã€Žæœªæ¥ã®è‡ªåˆ†ãŒæ¥½ã«ãªã‚‹æ”¯å‡ºã¯OKã€ã€Žå‹¢ã„ã ã‘ã¯NGã€ã€‚"
    ],
    spicy: [
      "ä¸å®‰ãªã®ã«è¦‹ãªã„ã®ã€æ„å‘³ã‚ã‹ã‚“ãªã„ã‚ˆã€‚å›ºå®šè²»ã ã‘ã§ã‚‚è¦‹ã¦ã€‚",
      "ã‚µãƒ–ã‚¹ã‚¯æ”¾ç½®ã—ã¦ã‚‹ï¼Ÿãã‚Œã€ãŠé‡‘æ¼ã‚Œã¦ã‚‹ã‚„ã¤ã€‚ä»Šåˆ‡ã£ã¦ã€‚",
      "å¢—ã‚„ã—ãŸã„ãªã‚‰ã€ã¾ãšç©´ãµã•ã„ã§ã€‚æŠ•è³‡ã®å‰ã«ç”Ÿæ´»ã®ç©´ã€‚",
      "â€œãªã‚“ã¨ãªãè²·ã„â€ãŒä¸€ç•ªã ã•ã„ã€‚è²·ã†ç†ç”±ã‚’è¨€è‘‰ã«ã§ããªã„ãªã‚‰ã‚„ã‚ã¦ã€‚"
    ]
  },

  /* æ‹æ„›ï¼šè¦‹æ¥µã‚åŸºæº–ã‚’å…·ä½“ï¼ˆè¿”ä¿¡/ææ¡ˆ/é…æ…®/ä¸€è²«æ€§ï¼‰ */
  love: {
    soft: [
      "æ‹æ„›ã¯ã­ã€ä¼šã†å›žæ•°ã‚ˆã‚Šâ€œä¼šè©±ã®å®‰å¿ƒæ„Ÿâ€ãŒå¤§äº‹ã ã‚ˆã€‚ãŠã™ã™ã‚ã®è¦‹æ¥µã‚ã¯ã€Žè©±ã—ãŸå¾Œã«å…ƒæ°—ã«ãªã‚‹ã‹ã€ã€‚å…ƒæ°—ã«ãªã‚‹ç›¸æ‰‹ãŒæ­£è§£ã«è¿‘ã„ã®ã€‚",
      "ã‚„ã•ã—ã„ç›¸æ‰‹ã£ã¦ã­ã€è¨€è‘‰ã‚ˆã‚Šè¡Œå‹•ã«å‡ºã‚‹ã‚ˆã€‚ãŸã¨ãˆã°ã€Žäºˆå®šã®ææ¡ˆãŒã‚ã‚‹ã€ã€Žè¿”ä¿¡ãŒé›‘ã˜ã‚ƒãªã„ã€ã€Žã‚ãªãŸã®ãƒšãƒ¼ã‚¹ã‚’æ€¥ã‹ã•ãªã„ã€ã€‚ã“ã®3ã¤ãŒãã‚ã†ã¨å®‰å¿ƒã ã‚ˆã€‚",
      "æœ¬å‘½ã®äººã¯ã­ã€â€œä¼šã„ãŸã„â€ã‚’è¨€ã†ã ã‘ã˜ã‚ƒãªãã¦ã€å…·ä½“çš„ã«å‹•ãã‚ˆã€‚ã€Žã„ã¤ç©ºã„ã¦ã‚‹ï¼Ÿã€ã€Žã“ã“ã©ã†ï¼Ÿã€ã£ã¦ææ¡ˆãŒå‡ºã‚‹ã€‚ãã“è¦‹ã¦ã¿ã¦ã€‚",
      "é€†ã«ç–²ã‚Œã‚‹æ‹ã¯ã­ã€ã‚ãªãŸãŒé ‘å¼µã‚Šã™ãŽã¦ã‚‹ã‚µã‚¤ãƒ³ã ã‚ˆã€‚é€£çµ¡ã®ä¸»å°ŽãŒå¸¸ã«ã‚ãªãŸã€ç´„æŸãŒãµã‚ã£ã¨ã—ã¦ã‚‹ã€è¨€ã†ã“ã¨ãŒæ¯Žå›žå¤‰ã‚ã‚‹â€¦ã“ã®ã¸ã‚“ã¯è·é›¢ã‚’ç½®ã„ã¦ã„ã„ã®ã€‚"
    ],
    normal: [
      "æ‹æ„›ã¯ã€Œå®‰å¿ƒã€ã€Œä¸€è²«æ€§ã€ã€Œææ¡ˆã€ã®3ç‚¹ãŒéµã€‚è¨€è‘‰ã‚ˆã‚Šè¡Œå‹•ã‚’è¦‹ã‚‹ã¨å¤–ã—ã«ãã„ã€‚",
      "è„ˆã‚ã‚Šå¯„ã‚Šã®ã‚µã‚¤ãƒ³ï¼šè¿”ä¿¡ãŒé›‘ã˜ã‚ƒãªã„ï¼äºˆå®šã®ææ¡ˆãŒã‚ã‚‹ï¼ç´„æŸã‚’å®ˆã‚‹ã€‚ã“ã“ãŒæƒã†ã»ã©å®‰å®šã€‚",
      "å±é™ºã‚µã‚¤ãƒ³ï¼šä¼šã†è©±ã¯ã™ã‚‹ã®ã«æ—¥ç¨‹ãŒæ±ºã¾ã‚‰ãªã„ï¼æ·±å¤œã ã‘é€£çµ¡ï¼è¨€ã†ã“ã¨ãŒå¤‰ã‚ã‚‹ã€‚ã“ã‚Œã¯åˆ‡ã£ã¦OKã€‚",
      "ã‚ãªãŸã«åˆã†ã®ã¯â€œä¼šè©±ãŒè‡ªç„¶ã«ç¶šãäººâ€ã€‚ç››ã‚Šä¸Šã’ã‚ˆã†ã¨é ‘å¼µã‚‹ç›¸æ‰‹ã¯æ¶ˆè€—ã«ãªã‚Šã‚„ã™ã„ã€‚"
    ],
    spicy: [
      "äºˆå®šæ±ºã‚ãªã„ã®ã«å£ã ã‘â€œä¼šã„ãŸã„â€ã£ã¦è¨€ã†äººï¼Ÿãã‚Œã€æš‡ã¤ã¶ã—æž ã ã‚ˆã€‚åˆ‡ã£ã¦ã€‚",
      "è¿”ä¿¡ãŒé›‘ã€ç´„æŸå®ˆã‚‰ãªã„ã€æ—¥ç¨‹å‡ºã•ãªã„ã€‚ã¯ã„ã‚¢ã‚¦ãƒˆã€‚ã‚ãªãŸã®ä¾¡å€¤ä¸‹ã’ãªã„ã§ã€‚",
      "æœ¬å‘½ã¯è¡Œå‹•ãŒä¸å¯§ã€‚ä¸å¯§ã˜ã‚ƒãªã„ãªã‚‰æœ¬å‘½ã˜ã‚ƒãªã„ã€‚ä»¥ä¸Šã€‚",
      "è¿½ã„ã‹ã‘ã•ã›ã¦ã€‚ã“ã£ã¡ãŒé ‘å¼µã‚Šã™ãŽã‚‹æ‹ã¯è² ã‘ã€‚"
    ]
  },

  /* â€œä»Šé€±ã®å…·ä½“ã‚¢ã‚¯ã‚·ãƒ§ãƒ³â€ãƒ†ãƒ³ãƒ—ãƒ¬ï¼ˆä»•äº‹/ãŠé‡‘/æ‹æ„›ï¼‰ */
  weekPlan: {
    soft: [
      "ä»Šé€±ã¯ã­ã€ã“ã‚Œã ã‘ã‚„ã‚ï¼Ÿ\nãƒ»ä»•äº‹ï¼šé€±3å›žã€30åˆ†ã ã‘ä½œæ¥­ã—ã¦ã¿ã¦\nãƒ»ãŠé‡‘ï¼šå›ºå®šè²»ã‚’1å€‹ã ã‘è¦‹ç›´ã—ã¦ã¿ã¦\nãƒ»æ‹æ„›ï¼šææ¡ˆãŒã‚ã‚‹äººã‚’å„ªå…ˆã—ã¦è¿”ã—ã¦ã¿ã¦",
      "ä»Šé€±ã¯ãµã‚ã£ã¨é ‘å¼µã‚‰ãªã„ã§ã€å½¢ã§å®ˆã‚ï¼Ÿ\nãƒ»ä»•äº‹ï¼š6å‰²ã§å‡ºã™ã‚’1å›ž\nãƒ»ãŠé‡‘ï¼šã‚µãƒ–ã‚¹ã‚¯ã‚’1å€‹æ•´ç†\nãƒ»æ‹æ„›ï¼šä¼šã£ãŸå¾Œã«å…ƒæ°—ã«ãªã‚‹äººã‚’æ®‹ã™"
    ],
    normal: [
      "ä»Šé€±ã®ãŠã™ã™ã‚ï¼ˆå…·ä½“ï¼‰\nãƒ»ä»•äº‹ï¼šå…¬é–‹ï¼ˆæå‡ºï¼‰ã‚’1å›ž\nãƒ»ãŠé‡‘ï¼šå›ºå®šè²»ã‚’1å€‹ä¿®æ­£\nãƒ»æ‹æ„›ï¼šæ—¥ç¨‹ãŒæ±ºã¾ã‚‹ç›¸æ‰‹ã‚’å„ªå…ˆ",
      "ä»Šé€±ã¯ã“ã®3ç‚¹ã ã‘\nãƒ»ä»•äº‹ï¼šé€±3å›žÃ—30ã€œ60åˆ†å›ºå®š\nãƒ»ãŠé‡‘ï¼šè²¯ã‚ã‚‹æž ã‚’åˆ†ã‘ã‚‹\nãƒ»æ‹æ„›ï¼šä¸€è²«æ€§ã®ã‚ã‚‹äººã‚’é¸ã¶"
    ],
    spicy: [
      "ä»Šé€±ã‚„ã‚‹ã“ã¨ã€‚ä»¥ä¸Šã€‚\nãƒ»ä»•äº‹ï¼š6å‰²ã§å‡ºã›\nãƒ»ãŠé‡‘ï¼šå›ºå®šè²»è¦‹ã‚\nãƒ»æ‹æ„›ï¼šæ—¥ç¨‹å‡ºã•ãªã„äººã¯åˆ‡ã‚Œ",
      "ä»Šé€±ã®èª²é¡Œã€‚\nãƒ»ä»•äº‹ï¼šã‚¼ãƒ­ã®æ—¥ä½œã‚‹ãª\nãƒ»ãŠé‡‘ï¼šã‚µãƒ–ã‚¹ã‚¯æ•´ç†ã—ã‚\nãƒ»æ‹æ„›ï¼šé›‘ãªæ‰±ã„è¨±ã™ãª"
    ]
  },

  /* ä»Šæ—¥ã®ã²ã¨ã“ã¨ & 3ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆãŠã¾ã‘ï¼‰ */
  today: {
    soft: {
      one: [
        "ä»Šæ—¥ã¯ã­ã€ã²ã¨ã¤é€²ã‚ãŸã ã‘ã§è‡ªåˆ†ã‚’è¤’ã‚ã¦ã„ã„æ—¥ã ã‚ˆã€‚",
        "ä»Šæ—¥ã¯â€œæ•´ãˆã‚‹â€ãŒé–‹é‹ã€‚å°ã•ãã§ã„ã„ã‚ˆã€‚"
      ],
      steps: [
        "æœºã‹äºˆå®šã€ã©ã£ã¡ã‹1ã¤æ•´ãˆã‚ˆï¼Ÿ",
        "10åˆ†ã ã‘æ‰‹ã‚’å‹•ã‹ã—ã¦ã¿ã¦ã€‚",
        "ã§ããŸã‚‰çµ‚ã‚ã‚Šã€‚ä¼‘ã‚‚ï¼Ÿ"
      ]
    },
    normal: {
      one: [
        "ä»Šæ—¥ã¯æ•´ãˆã‚‹ã»ã©é‹ãŒå®‰å®šã™ã‚‹ã€‚",
        "ä»Šæ—¥ã¯å°ã•ãå‰é€²ãŒåŠ¹ãã€‚"
      ],
      steps: [
        "ä¸€å€‹ã ã‘ç‰‡ã¥ã‘ã‚‹",
        "ä¸€å€‹ã ã‘é€²ã‚ã‚‹",
        "ä¸€å›žã ã‘ä¼‘ã‚€"
      ]
    },
    spicy: {
      one: [
        "ä»Šæ—¥ã¯æ•´ãˆã‚‹ã ã‘ã§å‹ã¦ã‚‹æ—¥ã€‚ã‚„ã‚‰ãªã„ã®ã‚‚ã£ãŸã„ãªã„ã‚ˆï¼Ÿ",
        "æ‚©ã‚€å‰ã«å‹•ã„ã¦ã€‚ã¾ãšä¸€å€‹ã€‚"
      ],
      steps: [
        "æ•£ã‚‰ã‹ã£ã¦ã‚‹ã®ç‰‡ã¥ã‘ã¦",
        "ã‚„ã‚‹ã“ã¨1å€‹ã«çµžã£ã¦",
        "çµ‚ã‚ã‚‰ã›ã¦ã‹ã‚‰ä¼‘ã‚“ã§"
      ]
    }
  }
};

/* =========================
  æ•°ç§˜ï¼ˆç°¡æ˜“ï¼‰
========================= */
export function lifePath(dobStr){
  const s = dobStr.replaceAll("-", "");
  let sum = 0;
  for (const ch of s) sum += Number(ch);
  while (sum > 9) sum = String(sum).split("").reduce((a,c)=>a+Number(c),0);
  return sum || 9;
}

/* =========================
  æ˜Ÿåº§ï¼ˆå¤ªé™½æ˜Ÿåº§ï¼‰
========================= */
export function calcZodiacSign(dateObj){
  const m = dateObj.getMonth() + 1;
  const d = dateObj.getDate();
  if ((m==1 && d>=20) || (m==2 && d<=18)) return "æ°´ç“¶åº§";
  if ((m==2 && d>=19) || (m==3 && d<=20)) return "é­šåº§";
  if ((m==3 && d>=21) || (m==4 && d<=19)) return "ç‰¡ç¾Šåº§";
  if ((m==4 && d>=20) || (m==5 && d<=20)) return "ç‰¡ç‰›åº§";
  if ((m==5 && d>=21) || (m==6 && d<=21)) return "åŒå­åº§";
  if ((m==6 && d>=22) || (m==7 && d<=22)) return "èŸ¹åº§";
  if ((m==7 && d>=23) || (m==8 && d<=22)) return "ç…å­åº§";
  if ((m==8 && d>=23) || (m==9 && d<=22)) return "ä¹™å¥³åº§";
  if ((m==9 && d>=23) || (m==10 && d<=23)) return "å¤©ç§¤åº§";
  if ((m==10 && d>=24) || (m==11 && d<=22)) return "è åº§";
  if ((m==11 && d>=23) || (m==12 && d<=21)) return "å°„æ‰‹åº§";
  return "å±±ç¾Šåº§";
}

export function signElement(sign){
  const fire  = ["ç‰¡ç¾Šåº§","ç…å­åº§","å°„æ‰‹åº§"];
  const earth = ["ç‰¡ç‰›åº§","ä¹™å¥³åº§","å±±ç¾Šåº§"];
  const air   = ["åŒå­åº§","å¤©ç§¤åº§","æ°´ç“¶åº§"];
  if (fire.includes(sign)) return "FIRE";
  if (earth.includes(sign)) return "EARTH";
  if (air.includes(sign)) return "AIR";
  return "WATER";
}

function lpBucket(lp){
  if (lp === 9) return 5;
  if (lp === 7 || lp === 8) return 4;
  if (lp === 5 || lp === 6) return 3;
  if (lp === 3 || lp === 4) return 2;
  return 1;
}

export function typeKeyFrom(sunSign, lp){
  return `${signElement(sunSign)}_${lpBucket(lp)}`;
}

/* =========================
  å‡ºç”Ÿæ™‚é–“ï¼ˆä¸æ˜Žã§ã‚‚OKï¼‰â†’ é›†ä¸­ã—ã‚„ã™ã„æ™‚é–“å¸¯ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹
========================= */
function timeAdvice(timeKey, toneKey){
  const map = {
    unknown: "ç”Ÿã¾ã‚ŒãŸæ™‚é–“ãŒä¸æ˜Žã§ã‚‚å¤§ä¸ˆå¤«ã€‚é›†ä¸­ã§ãã‚‹æ™‚é–“å¸¯ã¯â€œä»Šã®ç”Ÿæ´»â€ã§ä½œã‚Œã‚‹ã‚ˆã€‚",
    early:   "æ—©æœå¯„ã‚Šã®é›†ä¸­ãŒå‡ºã‚„ã™ã„ã‚ˆã€‚åˆå‰ä¸­ã«é‡è¦ã‚¿ã‚¹ã‚¯ã‚’ç½®ãã¨å‹ã¡ã‚„ã™ã„ã€‚",
    morning: "åˆå‰ã«é ­ãŒå›žã‚Šã‚„ã™ã„ã‚¿ã‚¤ãƒ—ã€‚æ˜¼å‰ã«å‹è² ã‚¿ã‚¹ã‚¯ã‚’ç½®ãã¨å¼·ã„ã€‚",
    noon:    "æ˜¼ã«å®‰å®šã—ã¦åŠ›ãŒå‡ºã‚„ã™ã„ã‚ˆã€‚åˆå‰ã¯æº–å‚™ã€åˆå¾Œå‰åŠã§é€²ã‚ã‚‹ã®ãŒåˆã†ã€‚",
    eve:     "å¤•æ–¹ã«ä¼¸ã³ã‚‹ã‚¿ã‚¤ãƒ—ã€‚åˆå¾Œå¾ŒåŠã«åˆ¶ä½œã‚’ç½®ãã¨æ—ã‚Šã‚„ã™ã„ã€‚",
    night:   "å¤œã«é›†ä¸­ãŒä¹—ã‚Šã‚„ã™ã„ã‚ˆã€‚å¤œã¯åˆ¶ä½œã€æœã¯é€£çµ¡ã‚„æ•´ç†ãŒç›¸æ€§ã„ã„ã€‚",
    late:    "æ·±å¤œåž‹ã®é›†ä¸­ãŒå‡ºã‚„ã™ã„ã€‚ç„¡ç†ã«æœåž‹ã«ã›ãšã€ç¡çœ ã®è³ªã ã‘å®ˆã‚‹ã¨å¼·ã„ã€‚",
  };
  const base = map[timeKey] ?? map.unknown;

  if (toneKey === "soft") return base;
  if (toneKey === "spicy") {
    return base
      .replace("å¤§ä¸ˆå¤«ã€‚", "å¤§ä¸ˆå¤«ã€‚")
      .replace("ä½œã‚Œã‚‹ã‚ˆã€‚", "ä½œã‚Œã°ã„ã„ã®ã€‚")
      .replace("åˆã†ã€‚", "åˆã†ã‚ˆã€‚");
  }
  return base;
}

/* =========================
  ä»Šæ—¥ï¼ˆãŠã¾ã‘ï¼‰ï¼šæ±ºå®šçš„ãªæ“¬ä¼¼å…ƒç´ 
========================= */
function todayElemFromDate(todayStr){
  const elems = ["FIRE","EARTH","AIR","WATER"];
  let sum = 0;
  for (const ch of todayStr) sum += ch.charCodeAt(0);
  return elems[sum % elems.length];
}

/* =========================
  ä»Šæ—¥ã®ãƒœãƒ¼ãƒŠã‚¹
========================= */
export function buildTodayBonus(ctx){
  const pack = POOLS.today[ctx.toneKey] ?? POOLS.today.normal;
  const seedBase = `${ctx.dobStr}|${ctx.todayStr}|${ctx.typeKey}|${ctx.toneKey}`;
  const one = pickDeterministic(pack.one, `${seedBase}|ONE`);
  const steps = uniqN(pack.steps, `${seedBase}|STEPS`, 3);
  return { one, steps };
}

/* =========================
  æœ¬æ–‡ç”Ÿæˆï¼šä»•äº‹/ãŠé‡‘/æ‹æ„›ã‚’åŽšãã€æµã‚Œã¯ã»ã©ã»ã©
========================= */
export function buildPublicText(ctx, todayBonus){
  const tonePack = TONE[ctx.toneKey] ?? TONE.normal;
  const type = TEXT_DB.types20[ctx.typeKey] ?? { name:"ãªãžã®ã‚¯ãƒž", desc:"ã‚¿ã‚¤ãƒ—æƒ…å ±ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã€‚" };

  const name = ctx.name?.trim() ? ctx.name.trim() : "ã‚ãªãŸ";
  const signLine = SIGN_HINT[ctx.sunSign] ?? "è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§å¼·ããªã‚‹";
  const lpLine = LP_HINT[ctx.lp] ?? "æ•´ãˆã‚‹";

  const seed = `${ctx.dobStr}|${ctx.place}|${ctx.timeKey}|${ctx.toneKey}|${ctx.typeKey}|${ctx.sunSign}|${ctx.lp}`;

  // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã”ã¨ã«2ã¤ãšã¤é¸ã¶ â†’ æ–‡é‡ã‚¢ãƒƒãƒ— & æŠ½è±¡å›žé¿
  const flowA  = pickDeterministic(POOLS.flow[ctx.toneKey],  `${seed}|flowA`);
  const workA  = pickDeterministic(POOLS.work[ctx.toneKey],  `${seed}|workA`);
  const workB  = pickDeterministic(POOLS.work[ctx.toneKey],  `${seed}|workB|x`);
  const moneyA = pickDeterministic(POOLS.money[ctx.toneKey], `${seed}|moneyA`);
  const moneyB = pickDeterministic(POOLS.money[ctx.toneKey], `${seed}|moneyB|x`);
  const loveA  = pickDeterministic(POOLS.love[ctx.toneKey],  `${seed}|loveA`);
  const loveB  = pickDeterministic(POOLS.love[ctx.toneKey],  `${seed}|loveB|x`);
  const week   = pickDeterministic(POOLS.weekPlan[ctx.toneKey], `${seed}|week`);

  const timeLine = timeAdvice(ctx.timeKey, ctx.toneKey);

  const lines = [];
  lines.push(`# ðŸ» ${type.name}`);
  lines.push(`${name}ã¯ã€Œ${type.desc}ã€ã£ã¦å‡ºãŸã‚ˆã€‚`);
  lines.push("");

  lines.push(`ã€ã‚ãªãŸã®è»¸ã€‘`);
  lines.push(`ãƒ»æ€§è³ªï¼š${ctx.sunSign}ã£ã½ã„å‹ã¡æ–¹ï¼ˆ${signLine}ï¼‰`);
  lines.push(`ãƒ»ãƒ†ãƒ¼ãƒžï¼šæ•°ç§˜${ctx.lp}ï¼ˆ${lpLine}ï¼‰`);
  lines.push("");

  lines.push(`## äººç”Ÿã®æµã‚Œï¼ˆã»ã©ã»ã©ï¼‰`);
  lines.push(flowA);
  lines.push("");

  lines.push(`## ä»•äº‹ï¼ˆå¼·åŒ–ï¼‰`);
  lines.push(workA);
  lines.push(workB);
  lines.push(`ã¡ãªã¿ã«ã‚ãªãŸã¯ã€Œ${signLine}ã€ã§ä¼¸ã³ã‚„ã™ã„ã‚ˆã€‚è¿·ã£ãŸã‚‰â€œç¶šã‘ã‚‰ã‚Œã‚‹å½¢â€ã‚’å„ªå…ˆã—ã¦ã­ã€‚`);
  lines.push("");

  lines.push(`## ãŠé‡‘ï¼ˆå¼·åŒ–ï¼‰`);
  lines.push(moneyA);
  lines.push(moneyB);
  lines.push(`ä»Šæ—¥ã®ã‚³ãƒ„ã¯ã€Œ${lpLine}ã€ã€‚ã ã‹ã‚‰â€œãƒ«ãƒ¼ãƒ«ã‚’1å€‹ã ã‘ä½œã‚‹â€ã®ãŒä¸€ç•ªåŠ¹ãã‚ˆã€‚`);
  lines.push("");

  lines.push(`## æ‹æ„›ï¼ˆå¼·åŒ–ï¼‰`);
  lines.push(loveA);
  lines.push(loveB);
  lines.push(`è¦‹æ¥µã‚ã«è¿·ã£ãŸã‚‰ã­ã€ã€Œæ—¥ç¨‹ãŒæ±ºã¾ã‚‹ã‹ã€ã€Œç´„æŸã‚’å®ˆã‚‹ã‹ã€ã€Œè¿”ä¿¡ãŒä¸å¯§ã‹ã€ã€‚ã“ã“ã ã‘è¦‹ã¦ã€‚`);
  lines.push("");

  lines.push(`## ç”Ÿæ´»ã®æ•´ãˆæ–¹ï¼ˆå‡ºç”Ÿæ™‚é–“ã®æ´»ã‹ã—æ–¹ï¼‰`);
  lines.push(timeLine);
  lines.push("");

  lines.push(`## ä»Šé€±ã®ãŠã™ã™ã‚ï¼ˆå…·ä½“ï¼‰`);
  lines.push(week);
  lines.push("");

  lines.push(tonePack.header);
  lines.push(tonePack.end);
  lines.push("");

  lines.push(`---`);
  lines.push(`## ä»Šæ—¥ã®ãŠã¾ã‘ï¼ˆã²ã¨ã“ã¨ï¼‰`);
  lines.push(todayBonus.one);

  return lines.join("\n");
}
