<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å ã„ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
  <style>
    body { font-family: system-ui, -apple-system, "Hiragino Sans", "Noto Sans JP", sans-serif; margin: 24px; line-height: 1.7; }
    .wrap { max-width: 900px; margin: 0 auto; }
    h1 { font-size: 20px; margin: 0 0 16px; }
    .card { border: 1px solid #ddd; border-radius: 12px; padding: 16px; margin: 12px 0; }
    label { display:block; font-size: 13px; margin: 10px 0 4px; }
    input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 10px; font-size: 14px; }
    .row { display:grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .btns { display:flex; gap: 10px; flex-wrap: wrap; margin-top: 12px; }
    button { padding: 10px 14px; border: 0; border-radius: 10px; cursor: pointer; font-size: 14px; }
    button.primary { background: #111; color: #fff; }
    button.ghost { background: #f3f3f3; }
    textarea { width: 100%; min-height: 420px; padding: 12px; border: 1px solid #ccc; border-radius: 12px; font-size: 13px; white-space: pre-wrap; }
    .note { color:#666; font-size:12px; }
  </style>
</head>
<body>
<div class="wrap">
  <h1>å ã„ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆHTML/JSã ã‘ï¼‰</h1>

  <div class="card">
    <div class="row">
      <div>
        <label>åå‰</label>
        <input id="name" placeholder="ä¾‹ï¼šå¹³å±± æµ·æ–—" />
      </div>
      <div>
        <label>å‡ºç”Ÿåœ°ï¼ˆéƒ½é“åºœçœŒãªã©ï¼‰</label>
        <input id="place" placeholder="ä¾‹ï¼šç¦å²¡çœŒ" />
      </div>
    </div>

    <div class="row">
      <div>
        <label>ç”Ÿå¹´æœˆæ—¥</label>
        <input id="dob" type="date" />
      </div>
      <div>
        <label>å‡ºç”Ÿæ™‚é–“ï¼ˆä»»æ„ï¼‰</label>
        <input id="time" placeholder="ä¾‹ï¼š23:30é ƒ / ä¸æ˜" />
      </div>
    </div>

    <div class="btns">
      <button class="primary" id="gen">å ã„ã‚’ç”Ÿæˆ</button>
      <button class="ghost" id="copy">çµæœã‚’ã‚³ãƒ”ãƒ¼</button>
      <button class="ghost" id="clear">ã‚¯ãƒªã‚¢</button>
    </div>

    <p class="note">
      â€»ã“ã‚Œã¯ã€Œé‘‘å®šæ–‡ãƒ†ãƒ³ãƒ—ãƒ¬ï¼‹ä¸€éƒ¨ï¼ˆæ•°ç§˜ï¼‰è‡ªå‹•è¨ˆç®—ã€ã§æ•´å½¢ã™ã‚‹ç°¡æ˜“ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã€‚<br>
      æœ¬æ ¼çš„ãªå¤©ä½“è¨ˆç®—ãƒ»å¹²æ”¯ã®å³å¯†è¨ˆç®—ã¯åˆ¥é€”ãƒ©ã‚¤ãƒ–ãƒ©ãƒª/APIãŒå¿…è¦ã€‚
    </p>
  </div>

  <div class="card">
    <label>ç”Ÿæˆçµæœ</label>
    <textarea id="out" readonly></textarea>
  </div>
</div>

<script>
  // --- ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ ---
  const pad2 = (n) => String(n).padStart(2, "0");

  function calcLifePathNumber(dateObj) {
    // ç”Ÿå¹´æœˆæ—¥ï¼ˆYYYY-MM-DDï¼‰ã‹ã‚‰æ•°ç§˜ï¼ˆ1ã€œ9ï¼‰ã‚’ä½œã‚‹ç°¡æ˜“ç‰ˆ
    // ä¾‹ï¼š1996-01-15 -> 1+9+9+6+0+1+1+5 = 32 -> 3+2 = 5
    const s = `${dateObj.getFullYear()}${pad2(dateObj.getMonth()+1)}${pad2(dateObj.getDate())}`;
    let sum = 0;
    for (const ch of s) sum += Number(ch);
    while (sum > 9) {
      sum = String(sum).split("").reduce((a,c)=>a+Number(c),0);
    }
    return sum; // 1-9
  }

  function lifePathKeywords(n) {
    // é›°å›²æ°—ã¥ã‘ç”¨ï¼ˆçŸ­ãï¼‰
    const map = {
      1: "å§‹å‹•ãƒ»è‡ªç«‹",
      2: "èª¿å’Œãƒ»å”èª¿",
      3: "è¡¨ç¾ãƒ»æ‹¡æ•£",
      4: "åŸºç›¤ãƒ»ç¶™ç¶š",
      5: "å¤‰åŒ–ãƒ»æŒ‘æˆ¦",
      6: "æ„›æƒ…ãƒ»è²¬ä»»",
      7: "æ¢æ±‚ãƒ»å†…çœ",
      8: "é”æˆãƒ»æ‹¡å¤§",
      9: "å®Œæˆãƒ»æ‰‹æ”¾ã—"
    };
    return map[n] ?? "";
  }

  function buildReading({ name, place, dobStr, timeStr }) {
    const date = new Date(dobStr);
    const yyyy = date.getFullYear();
    const mm = date.getMonth() + 1;
    const dd = date.getDate();

    const lp = calcLifePathNumber(date);
    const lpKey = lifePathKeywords(lp);

    // ã“ã“ãŒã€Œãƒ†ãƒ³ãƒ—ãƒ¬ã€éƒ¨åˆ†ï¼šã‚ãªãŸã®é‘‘å®šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«åˆã‚ã›ã¦æ–‡ç« ã‚’å›ºå®šã§ãã‚‹
    // ã•ã‚‰ã«å‡ã‚‹ãªã‚‰ã€lpã‚„æœˆãƒ»æ—¥ã§æ–‡è¨€ã®åˆ†å²ã‚’å¢—ã‚„ã™
    return `# ğŸ”® ç·åˆé‘‘å®šï¼š**${name || "ï¼ˆåå‰æœªå…¥åŠ›ï¼‰"}**

**ç”Ÿå¹´æœˆæ—¥**ï¼š${yyyy}/${pad2(mm)}/${pad2(dd)}
**å‡ºç”Ÿåœ°**ï¼š${place || "ï¼ˆæœªå…¥åŠ›ï¼‰"}
**å‡ºç”Ÿæ™‚é–“**ï¼š${timeStr?.trim() ? timeStr.trim() : "ä¸æ˜"}
**ä½¿ç”¨å è¡“**ï¼šè¥¿æ´‹å æ˜Ÿè¡“ Ã— æ•°ç§˜è¡“ Ã— æ±æ´‹å è¡“ Ã— å§“åã‚¨ãƒãƒ«ã‚®ãƒ¼ï¼ˆç°¡æ˜“ãƒ†ãƒ³ãƒ—ãƒ¬ï¼‰

---

## ğŸ§‘â€ğŸ¤â€ğŸ§‘ ç¤¾ä¼šã‚­ãƒ£ãƒ©ï¼ˆåå‰ã‹ã‚‰è¦‹ã‚‹å°è±¡ãƒ»å¯¾äººé‹ï¼‰

**ç¬¬ä¸€å°è±¡**
ãƒ»èª å®Ÿ
ãƒ»è½ã¡ç€ã
ãƒ»ä¿¡é ¼æ„ŸãŒå¼·ã„

**ä»–äººã‹ã‚‰è¦‹ãŸã‚­ãƒ£ãƒ©**
ãƒ»é ¼ã‚‰ã‚Œã‚„ã™ã„
ãƒ»è²¬ä»»æ„ŸãŒã‚ã‚‹
ãƒ»ç›¸è«‡å½¹ã«ãªã‚Šã‚„ã™ã„

**äººé–“é–¢ä¿‚ã®ã‚¯ã‚»**
ãƒ»è·é›¢ãŒç¸®ã‚€ã»ã©é¢å€’è¦‹ãŒè‰¯ã„
ãƒ»è¡¨ã§ã¯å†·é™ã€å†…é¢ã¯æƒ…ç†±çš„
ãƒ»è‡ªç„¶ã¨ã¾ã¨ã‚å½¹ã«å›ã‚‹

**ç¤¾ä¼šçš„è©•ä¾¡ã®å‡ºæ–¹**
ãƒ»æ´¾æ‰‹ã§ã¯ãªã„ãŒã€ä¿¡ç”¨ã®ç©ã¿é‡ã­ã§è©•ä¾¡ãŒä¸ŠãŒã‚‹ã‚¿ã‚¤ãƒ—

---

## ğŸŒ å…¨ä½“é‹ï¼ˆäººç”Ÿæ§‹é€ ï¼‰

**å¤§å™¨æ™©æˆãƒ»å¾ŒåŠä¸Šæ˜‡å‹**
ãƒ»äººç”Ÿå¾ŒåŠã»ã©æº€è¶³åº¦ãŒé«˜ã„
ãƒ»åœŸå°ãŒå›ºã¾ã‚‹ã»ã©é‹ãŒä¼¸ã³ã‚‹

ï¼ˆæ•°ç§˜ï¼š${lp}ï¼${lpKey}ï¼‰

---

## ğŸ’¼ ä»•äº‹é‹

**è¡¨ç¾ Ã— ä¼ç”» Ã— ç™ºä¿¡ã®å‘½å¼**
ãƒ»è‡ªåˆ†ã®åå‰ã¨ä¸–ç•Œè¦³ã§ä»•äº‹ã‚’ç¯‰ã
ãƒ»å€‹äººè£é‡ã®å¤§ãã„åƒãæ–¹ã¨ç›¸æ€§ãŒè‰¯ã„

**é‹å‹¢ã®æµã‚Œ**
ãƒ»åŸºç¤å·¥äº‹ â†’ é£›èº â†’ å®‰å®šæ‹¡å¼µ â†’ çµŒå–¶ãƒ•ã‚§ãƒ¼ã‚º

---

## ğŸ’° é‡‘é‹

**å›ååŠ›ã®å¼·ã„é‡‘é‹**
ãƒ»æ³¢ã¯ã‚ã‚‹ãŒæœ€çµ‚çš„ã«å›åã§ãã‚‹
ãƒ»åœŸå°ã®æ•´å‚™ãŒé‡‘é‹ã‚’å®ˆã‚‹

---

## ğŸ« å¥åº·é‹

ãƒ»ã‚¹ãƒˆãƒ¬ã‚¹ãŒå‘¼å¸ãƒ»ç¥çµŒç³»ã«å‡ºã‚„ã™ã„
ãƒ»ä¼‘é¤Šç®¡ç†ãŒæœ€å¤§ã®é–‹é‹è¦ç´ 

---

## â¤ï¸ æ‹æ„›é‹

**äººç”Ÿé€£å‹•å‹ãƒ»æœ¬å‘½é›†ä¸­ã‚¿ã‚¤ãƒ—**
ãƒ»ä»•äº‹é‹ã¨å¼·ãé€£å‹•
ãƒ»ç²¾ç¥çš„ã«è‡ªç«‹ã—ãŸç›¸æ‰‹ã¨å¥½ç›¸æ€§

---

## ğŸ§­ äººç”Ÿã®ä¸»è¦è»¢æ›ç‚¹

ãƒ»åŸºç¤å·¥äº‹æœŸï¼šåœŸå°ã¥ãã‚ŠãŒæœ€å„ªå…ˆ
ãƒ»ä¸Šæ˜‡æœŸï¼šè©•ä¾¡ãŒè¡¨ã«å‡ºã‚‹
ãƒ»å®ŒæˆæœŸï¼šè‡ªç”±ã¨å®‰å®šãŒåŒæ™‚ã«æ‰‹ã«å…¥ã‚‹

---

## ğŸ•Š å‘½å¼ã®æœ€çµ‚è©•ä¾¡

> é™ã‹ã«ç©ã¿ä¸Šã’ã€å¾ŒåŠã§å¤§ããå ±ã‚ã‚Œã‚‹äººç”Ÿæ§‹é€ 
`;
  }

  // --- ã‚¤ãƒ™ãƒ³ãƒˆ ---
  const $ = (id) => document.getElementById(id);
  $("gen").addEventListener("click", () => {
    const name = $("name").value;
    const place = $("place").value;
    const dob = $("dob").value;
    const time = $("time").value;

    if (!dob) {
      alert("ç”Ÿå¹´æœˆæ—¥ã‚’å…¥åŠ›ã—ã¦ã­");
      return;
    }

    $("out").value = buildReading({ name, place, dobStr: dob, timeStr: time });
  });

  $("copy").addEventListener("click", async () => {
    const text = $("out").value;
    if (!text.trim()) return alert("å…ˆã«å ã„ã‚’ç”Ÿæˆã—ã¦ã­");
    await navigator.clipboard.writeText(text);
    alert("ã‚³ãƒ”ãƒ¼ã—ãŸã‚ˆ");
  });

  $("clear").addEventListener("click", () => {
    $("name").value = "";
    $("place").value = "";
    $("dob").value = "";
    $("time").value = "";
    $("out").value = "";
  });
</script>
</body>
</html>
